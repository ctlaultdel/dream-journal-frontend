{"ast":null,"code":"var _jsxFileName = \"/Users/lollapalarza/ada/projects/smart-dream-journal/smart-dream-journal-frontend/src/components/profile/journal/entry.js\",\n  _s = $RefreshSig$();\nimport { useParams, useNavigate } from \"react-router\";\nimport { useAuth } from \"../../../contexts/authContext\";\nimport \"./entry.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Entry() {\n  _s();\n  const {\n    userEntries,\n    setUserEntries\n  } = useAuth();\n  const navigate = useNavigate();\n\n  // contexts\n  const {\n    tokenHeader\n  } = useAuth();\n  const {\n    entryID\n  } = useParams();\n  const entry = userEntries.filter(entry => entry.id === parseInt(entryID))[0];\n  async function deleteEntry(entryID) {\n    return await fetch(`https://smart-dream-journal-backend-bf5b1011b117.herokuapp.com/profile/journal/${entryID}`, {\n      method: \"POST\",\n      headers: {\n        ...tokenHeader,\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => {\n      return response.status;\n    }).catch(error => console.log(error));\n  }\n\n  // event handler for delete journal entry\n  const clickDeleteButton = async e => {\n    e.preventDefault();\n    const response = await deleteEntry(entryID);\n    if (response === 201) {\n      // remove the removed entry from userEntries local storage\n      const entries = userEntries.filter(entry => entry.id !== parseInt(entryID));\n      localStorage.setItem(\"USERENTRIES\", JSON.stringify(entries));\n      setUserEntries(JSON.parse(localStorage.getItem(\"USERENTRIES\")));\n      navigate(\"/journal\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"entry-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"mt-5\",\n      children: [entry.title, \" \", entry.mood]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n      className: \"mb-5\",\n      children: entry.date\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Keywords: \", entry.keywords]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Description: \", entry.description]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: clickDeleteButton,\n      className: \"delete-button\",\n      children: \"Delete Entry\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(Entry, \"lc+h7SvoYOy5z+YRbMZoNEJxOKA=\", false, function () {\n  return [useAuth, useNavigate, useAuth, useParams];\n});\n_c = Entry;\nexport default Entry;\nvar _c;\n$RefreshReg$(_c, \"Entry\");","map":{"version":3,"names":["useParams","useNavigate","useAuth","jsxDEV","_jsxDEV","Entry","_s","userEntries","setUserEntries","navigate","tokenHeader","entryID","entry","filter","id","parseInt","deleteEntry","fetch","method","headers","then","response","status","catch","error","console","log","clickDeleteButton","e","preventDefault","entries","localStorage","setItem","JSON","stringify","parse","getItem","className","children","title","mood","fileName","_jsxFileName","lineNumber","columnNumber","date","keywords","description","onClick","_c","$RefreshReg$"],"sources":["/Users/lollapalarza/ada/projects/smart-dream-journal/smart-dream-journal-frontend/src/components/profile/journal/entry.js"],"sourcesContent":["import { useParams, useNavigate } from \"react-router\";\nimport { useAuth } from \"../../../contexts/authContext\";\nimport \"./entry.css\";\n\nfunction Entry() {\n  const { userEntries, setUserEntries } = useAuth();\n\n  const navigate = useNavigate();\n\n  // contexts\n  const { tokenHeader } = useAuth();\n  const { entryID } = useParams();\n\n  const entry = userEntries.filter(\n    (entry) => entry.id === parseInt(entryID)\n  )[0];\n\n  async function deleteEntry(entryID) {\n    return await fetch(\n      `https://smart-dream-journal-backend-bf5b1011b117.herokuapp.com/profile/journal/${entryID}`,\n      {\n        method: \"POST\",\n        headers: {\n          ...tokenHeader,\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    )\n      .then((response) => {\n        return response.status;\n      })\n      .catch((error) => console.log(error));\n  }\n\n  // event handler for delete journal entry\n  const clickDeleteButton = async (e) => {\n    e.preventDefault();\n    const response = await deleteEntry(entryID);\n    if (response === 201) {\n      // remove the removed entry from userEntries local storage\n      const entries = userEntries.filter(\n        (entry) => entry.id !== parseInt(entryID)\n      );\n      localStorage.setItem(\"USERENTRIES\", JSON.stringify(entries));\n      setUserEntries(JSON.parse(localStorage.getItem(\"USERENTRIES\")));\n      navigate(\"/journal\");\n    }\n  };\n\n  return (\n    <section className=\"entry-wrapper\">\n      <h1 className=\"mt-5\">\n        {entry.title} {entry.mood}\n      </h1>\n      <h6 className=\"mb-5\">{entry.date}</h6>\n      <p>Keywords: {entry.keywords}</p>\n      <p>Description: {entry.description}</p>\n      <button onClick={clickDeleteButton} className=\"delete-button\">\n        Delete Entry\n      </button>\n    </section>\n  );\n}\nexport default Entry;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
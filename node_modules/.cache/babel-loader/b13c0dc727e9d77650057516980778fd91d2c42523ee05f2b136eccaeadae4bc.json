{"ast":null,"code":"import _objectSpread from\"/Users/lollapalarza/ada/projects/smart-dream-journal/smart-dream-journal-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{Route,Routes}from\"react-router-dom\";import{useEffect}from\"react\";import Login from\"./components/public/login\";import Home from\"./components/profile/home\";import Analyses from\"./components/profile/analyses/analyses\";import Journal from\"./components/profile/journal/journal\";import Entries from\"./components/profile/journal/entries\";import Entry from\"./components/profile/journal/entry\";import Register from\"./components/public/register\";import Main from\"./components/public/main\";import Logout from\"./components/profile/logout\";import{useAuth}from\"./contexts/authContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){// contexts\nvar _useAuth=useAuth(),tokenHeader=_useAuth.tokenHeader,setUserEntries=_useAuth.setUserEntries;// fetch user Entries data from API\nuseEffect(function(){// check for access token (context that checks token saved in local storage)\nif(tokenHeader){fetch(\"https://smart-dream-journal-backend-bf5b1011b117.herokuapp.com/profile/journal/entries/\",{method:\"POST\",headers:_objectSpread(_objectSpread({},tokenHeader),{},{\"Content-Type\":\"application/json\"})}).then(function(response){return response.json();}).then(function(data){console.log(data);setUserEntries(data);localStorage.setItem(\"USERENTRIES\",JSON.stringify(data));});}},[tokenHeader,setUserEntries]);return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Main,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile/analyses\",element:/*#__PURE__*/_jsx(Analyses,{})}),/*#__PURE__*/_jsxs(Route,{path:\"/profile/journal\",element:/*#__PURE__*/_jsx(Journal,{}),children:[/*#__PURE__*/_jsx(Route,{path:\"\",element:/*#__PURE__*/_jsx(Entries,{})}),/*#__PURE__*/_jsx(Route,{path:\":entryID\",element:/*#__PURE__*/_jsx(Entry,{})})]}),/*#__PURE__*/_jsx(Route,{path:\"/logout\",element:/*#__PURE__*/_jsx(Logout,{})})]});}export default App;","map":{"version":3,"names":["Route","Routes","useEffect","Login","Home","Analyses","Journal","Entries","Entry","Register","Main","Logout","useAuth","jsx","_jsx","jsxs","_jsxs","App","_useAuth","tokenHeader","setUserEntries","fetch","method","headers","_objectSpread","then","response","json","data","console","log","localStorage","setItem","JSON","stringify","children","path","element"],"sources":["/Users/lollapalarza/ada/projects/smart-dream-journal/smart-dream-journal-frontend/src/App.js"],"sourcesContent":["import { Route, Routes } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport Login from \"./components/public/login\";\nimport Home from \"./components/profile/home\";\nimport Analyses from \"./components/profile/analyses/analyses\";\nimport Journal from \"./components/profile/journal/journal\";\nimport Entries from \"./components/profile/journal/entries\";\nimport Entry from \"./components/profile/journal/entry\";\nimport Register from \"./components/public/register\";\nimport Main from \"./components/public/main\";\nimport Logout from \"./components/profile/logout\";\nimport { useAuth } from \"./contexts/authContext\";\n\nfunction App() {\n  // contexts\n  const { tokenHeader, setUserEntries } = useAuth();\n\n  // fetch user Entries data from API\n  useEffect(() => {\n    // check for access token (context that checks token saved in local storage)\n    if (tokenHeader) {\n      fetch(\n        \"https://smart-dream-journal-backend-bf5b1011b117.herokuapp.com/profile/journal/entries/\",\n        {\n          method: \"POST\",\n          headers: {\n            ...tokenHeader,\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      )\n        .then((response) => {\n          return response.json();\n        })\n        .then((data) => {\n          console.log(data);\n          setUserEntries(data);\n          localStorage.setItem(\"USERENTRIES\", JSON.stringify(data));\n        });\n    }\n  }, [tokenHeader, setUserEntries]);\n\n  return (\n    <Routes>\n      <Route path=\"/\" element={<Main />} />\n      <Route path=\"/login\" element={<Login />} />\n      <Route path=\"/register\" element={<Register />} />\n      <Route path=\"/profile\" element={<Home />} />\n      <Route path=\"/profile/analyses\" element={<Analyses />} />\n      <Route path=\"/profile/journal\" element={<Journal />}>\n        <Route path=\"\" element={<Entries />} />\n        <Route path=\":entryID\" element={<Entry />} />\n      </Route>\n      <Route path=\"/logout\" element={<Logout />}></Route>\n    </Routes>\n  );\n}\n\nexport default App;\n"],"mappings":"sKAAA,OAASA,KAAK,CAAEC,MAAM,KAAQ,kBAAkB,CAChD,OAASC,SAAS,KAAQ,OAAO,CACjC,MAAO,CAAAC,KAAK,KAAM,2BAA2B,CAC7C,MAAO,CAAAC,IAAI,KAAM,2BAA2B,CAC5C,MAAO,CAAAC,QAAQ,KAAM,wCAAwC,CAC7D,MAAO,CAAAC,OAAO,KAAM,sCAAsC,CAC1D,MAAO,CAAAC,OAAO,KAAM,sCAAsC,CAC1D,MAAO,CAAAC,KAAK,KAAM,oCAAoC,CACtD,MAAO,CAAAC,QAAQ,KAAM,8BAA8B,CACnD,MAAO,CAAAC,IAAI,KAAM,0BAA0B,CAC3C,MAAO,CAAAC,MAAM,KAAM,6BAA6B,CAChD,OAASC,OAAO,KAAQ,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEjD,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb;AACA,IAAAC,QAAA,CAAwCN,OAAO,EAAE,CAAzCO,WAAW,CAAAD,QAAA,CAAXC,WAAW,CAAEC,cAAc,CAAAF,QAAA,CAAdE,cAAc,CAEnC;AACAlB,SAAS,CAAC,UAAM,CACd;AACA,GAAIiB,WAAW,CAAE,CACfE,KAAK,CACH,yFAAyF,CACzF,CACEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAAC,aAAA,CAAAA,aAAA,IACFL,WAAW,MACd,cAAc,CAAE,kBAAkB,EAEtC,CAAC,CACF,CACEM,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,MAAO,CAAAA,QAAQ,CAACC,IAAI,EAAE,CACxB,CAAC,CAAC,CACDF,IAAI,CAAC,SAACG,IAAI,CAAK,CACdC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CACjBR,cAAc,CAACQ,IAAI,CAAC,CACpBG,YAAY,CAACC,OAAO,CAAC,aAAa,CAAEC,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC,CAAC,CAC3D,CAAC,CAAC,CACN,CACF,CAAC,CAAE,CAACT,WAAW,CAAEC,cAAc,CAAC,CAAC,CAEjC,mBACEJ,KAAA,CAACf,MAAM,EAAAkC,QAAA,eACLrB,IAAA,CAACd,KAAK,EAACoC,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEvB,IAAA,CAACJ,IAAI,IAAI,EAAG,cACrCI,IAAA,CAACd,KAAK,EAACoC,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAEvB,IAAA,CAACX,KAAK,IAAI,EAAG,cAC3CW,IAAA,CAACd,KAAK,EAACoC,IAAI,CAAC,WAAW,CAACC,OAAO,cAAEvB,IAAA,CAACL,QAAQ,IAAI,EAAG,cACjDK,IAAA,CAACd,KAAK,EAACoC,IAAI,CAAC,UAAU,CAACC,OAAO,cAAEvB,IAAA,CAACV,IAAI,IAAI,EAAG,cAC5CU,IAAA,CAACd,KAAK,EAACoC,IAAI,CAAC,mBAAmB,CAACC,OAAO,cAAEvB,IAAA,CAACT,QAAQ,IAAI,EAAG,cACzDW,KAAA,CAAChB,KAAK,EAACoC,IAAI,CAAC,kBAAkB,CAACC,OAAO,cAAEvB,IAAA,CAACR,OAAO,IAAI,CAAA6B,QAAA,eAClDrB,IAAA,CAACd,KAAK,EAACoC,IAAI,CAAC,EAAE,CAACC,OAAO,cAAEvB,IAAA,CAACP,OAAO,IAAI,EAAG,cACvCO,IAAA,CAACd,KAAK,EAACoC,IAAI,CAAC,UAAU,CAACC,OAAO,cAAEvB,IAAA,CAACN,KAAK,IAAI,EAAG,GACvC,cACRM,IAAA,CAACd,KAAK,EAACoC,IAAI,CAAC,SAAS,CAACC,OAAO,cAAEvB,IAAA,CAACH,MAAM,IAAI,EAAS,GAC5C,CAEb,CAEA,cAAe,CAAAM,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}